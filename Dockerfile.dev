FROM node:18

WORKDIR /app

COPY package.json ./
COPY yarn.lock ./
COPY prisma ./prisma/

RUN yarn install --frozen-lockfile

RUN yarn generate

COPY . .

EXPOSE 3001

CMD [ "yarn", "dev" ]